(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-68c534ea"],{"1e4b":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("section",[a("el-row",{staticClass:"row-bg",attrs:{justify:"space-between",type:"flex",gutter:20}},[a("el-col",{attrs:{span:16}},[a("div",{staticClass:"colBox"},[a("span",{staticClass:"homeTitle"},[t._v("资料分类统计")]),t._v(" "),a("div",{staticClass:"handleChart"},[a("el-button",{attrs:{type:t.classType,size:"small"},on:{click:t.classBarInit}},[t._v("按资料分类")]),t._v(" "),a("el-button",{attrs:{type:t.DBType,size:"small"},on:{click:t.DBBarInit}},[t._v("按数据库分类")])],1),t._v(" "),a("div",{staticClass:"chartsBox",attrs:{id:"dataCLassfication"}})])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"colBox",staticStyle:{height:"420px"}},[a("span",{staticClass:"homeTitle"},[t._v("帮助文档")]),t._v(" "),a("div",{staticClass:"documentBox"},t._l(t.documentList,(function(e,n){return a("div",{key:n,staticClass:"documentList"},[a("span",{staticClass:"round"}),t._v(" "),a("span",{staticClass:"name",attrs:{title:e.FILE_NAME}},[t._v(t._s("dev"==e.FILE_TYPE?"[开发文档] ":"[运维文档] ")+t._s(e.FILE_NAME))]),t._v(" "),a("el-link",{attrs:{type:"primary"},on:{click:function(a){return t.downloadWord(e.FILE_STOR_PATH)}}},[t._v("[下载]")])],1)})),0)])])],1)],1),t._v(" "),a("section",[a("el-row",{staticClass:"row-bg",attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"colBox"},[a("span",{staticClass:"homeTitle"},[t._v("资料到报情况统计")]),t._v(" "),a("div",{staticClass:"chartsBox",attrs:{id:"dataArrivedChart"}})])])],1)],1),t._v(" "),a("section",[a("el-row",{staticClass:"row-bg",attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"colBox"},[a("span",{staticClass:"homeTitle"},[t._v("数据库资料统计")]),t._v(" "),a("div",{staticClass:"chartsBox",staticStyle:{padding:"20px",height:"600px",overflow:"auto"}},[[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"serial",label:"序号",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"dataName",label:"资料名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"dateBegin",label:"开始日期",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"dateEnd",label:"结束日期",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"dataNum",label:"数据量",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"dataSpace",label:"日增量",width:"180"}})],1)]],2)])])],1)],1),t._v(" "),t._m(0)])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"footer"},[a("p",[a("span",{staticStyle:{"font-weight":"bold"}},[t._v("相关链接：")]),t._v(" "),a("a",{attrs:{href:"http://www.cma.gov.cn/",target:"_blank"}},[t._v("中国气象局政府网")]),t._v(" |\n      "),a("a",{attrs:{href:"http://10.1.65.66/pub/cmahead/nmsy/index.html",target:"_blank"}},[t._v("综合管理信息系统")]),t._v(" |\n      "),a("a",{attrs:{href:"http://data.cma.cn/",target:"_blank"}},[t._v("中国气象数据网")]),t._v(" |\n      "),a("a",{attrs:{href:"http://www.weather.com.cn/",target:"_blank"}},[t._v("中国天气网")]),t._v(" |\n      "),a("a",{attrs:{href:"http://www.cmastd.cn/",target:"_blank"}},[t._v("中国气象标准化网")])]),t._v(" "),a("p",[t._v("版权所有 © 2020-2025 国防科技大学")])])}],r=(a("ac67"),a("32ea"),a("e5b4"),a("1bc7"),a("3e83")),o=a("28f8"),s=a("52c1"),c=a("d7a6"),l=a("365c");function u(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function h(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?u(Object(a),!0).forEach((function(e){Object(o["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var d=a("24cea"),p={name:"home",components:{},data:function(){return{userType:"",pageFlag:this.$route.params.pageFlag,classType:"primary",DBType:"",bannerList:[{index:2,src:a("8669")}],eventList:[{name:"新增资料审核",menuName:"数据注册审核",checked:0,uncheck:0},{name:"数据授权审核",menuName:"资料访问权限",checked:0,uncheck:0},{name:"数据库账户审核",menuName:"数据库访问账户",checked:0,uncheck:0},{name:"业务专题库审核",menuName:"专题库审核",checked:0,uncheck:0},{name:"云数据库审核",menuName:"云数据库审核",checked:0,uncheck:0}],pieBox:[],projectLibraryList:[],documentList:[],interfaceData:[],menuName:"",tableData:[]}},mounted:function(){this.drawBarChartClass(),this.drawLineChart(),this.pageFlag&&document.querySelector("#"+this.pageFlag).scrollIntoView(!0),console.log(this.permission_routes)},computed:h({},Object(s["b"])(["permission_routes","sidebar"])),created:function(){this.getEventList(),this.getHelpDocument(),this.getPieBox(),this.queryCheckList(),this.userType=localStorage.getItem("userType"),console.log(this.userType),this.drawDataArrivedChart(),this.countDatabaseTableInfo()},watch:{pieBox:function(){this.$nextTick((function(){this.drawPies()}))}},methods:{resetData:function(t,e){for(var a in t){var n=t[a];"object"==Object(r["a"])(n)?this.resetData(n,e):n==e&&(this.menuName=e)}},bannerGoPage:function(t){this.$router.push({name:"业务场景说明",params:{pageFlag:"pageFlag"+t}})},getEventList:function(){var t=this;Object(l["i"])().then((function(e){var a=e.data;t.eventList[0].checked=a.xzzl.checked,t.eventList[0].uncheck=a.xzzl.uncheck,t.eventList[1].checked=a.sjsq.checked,t.eventList[1].uncheck=a.sjsq.uncheck,t.eventList[2].checked=a.sjkzh.checked,t.eventList[2].uncheck=a.sjkzh.uncheck,t.eventList[3].checked=a.ywztk.checked,t.eventList[3].uncheck=a.ywztk.uncheck,t.eventList[4].checked=a.ysjk.checked,t.eventList[4].uncheck=a.ysjk.uncheck}))},goPageUrl:function(t,e){this.resetData(this.permission_routes,t);var a="";"数据注册审核"==this.menuName?a=e:"资料访问权限"==this.menuName?a="0"+e:"数据库访问账户"==this.menuName?a=String(e-1):"专题库审核"==this.menuName?a=String(e):"云数据库审核"==this.menuName&&(a="0"+e),this.$router.push({name:this.menuName,params:{status:a}})},drawBarChartClass:function(){Object(l["b"])().then((function(t){var e=t.data,a=[],n=[];e.forEach((function(t){a.push(t.NUM),n.push(t.CLASS_NAME)}));var i=d.init(document.getElementById("dataCLassfication"));i.setOption({title:{text:"气象资料种类统计",left:"center",textStyle:{fontSize:14,fontWeight:"normal"}},grid:{left:"6%",right:"4%",bottom:"3%",containLabel:!0},tooltip:{trigger:"axis"},color:["#058ae5"],calculable:!0,yAxis:[{name:"单位: 种",nameRotate:90,nameGap:50,nameLocation:"middle",type:"value",axisLabel:{formatter:"{value}"},boundaryGap:[0,.01]}],xAxis:[{type:"category",data:n,axisLabel:{interval:0,rotate:20}}],series:[{name:"总计",type:"bar",barWidth:20,data:a,itemStyle:{normal:{color:new d.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#21bd69"},{offset:1,color:"#1561d1"}])}},label:{normal:{show:!1}}}]})}))},drawDBchart:function(){Object(l["f"])().then((function(t){var e=t.data,a=[],n=[];e.forEach((function(t){a.push(t.LOGICNAME),n.push(t.NUM)}));var i=d.init(document.getElementById("dataCLassfication"));i.setOption({title:{text:"数据库资料种数统计",left:"center",textStyle:{fontSize:14,fontWeight:"normal"}},grid:{left:"6%",right:"4%",bottom:"3%",containLabel:!0},tooltip:{trigger:"axis"},color:["#1fbf86"],calculable:!0,yAxis:[{name:"单位: 种",nameRotate:90,nameLocation:"middle",nameGap:50,type:"value",axisLabel:{formatter:"{value}"},boundaryGap:[0,.01]}],xAxis:[{type:"category",data:a,nameRotate:90,axisLabel:{interval:0,rotate:40,textStyle:{fontSize:10}}}],series:[{type:"bar",barWidth:20,data:n,itemStyle:{normal:{color:new d.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#21bd69"},{offset:1,color:"#1561d1"}])}},label:{normal:{show:!1}}}]})}))},classBarInit:function(){"primary"!=this.classType&&(this.classType="primary",this.DBType="",this.drawBarChartClass())},DBBarInit:function(){"primary"!=this.DBType&&(this.classType="",this.DBType="primary",this.drawDBchart())},pieId:function(t){return"pieId"+t},getPieBox:function(){var t=this;Object(l["g"])().then((function(e){t.pieBox=e.data}))},drawPies:function(){for(var t={tooltip:{trigger:"item",formatter:function(t){var e=t;return(e.name="")?"数值 <br/>非结构化数据库 : "+e.value+"TB("+e.percent+"%)":"数值 <br/>结构化数据库 : "+e.value+"TB("+e.percent+"%)"},position:function(t,e,a,n,i){var r=t[0],o=t[1],s=(i.viewSize[0],i.viewSize[1],i.contentSize[0]),c=i.contentSize[1],l=0,u=0;return l=r<s?5:r-s,u=o<c?5:o-c,[l,u]}},grid:{width:"auto",height:"auto"},color:["#ffc739","#22bfcb","#76da77"],series:[{name:"数值",type:"pie",center:["40%","50%"],radius:["50%","70%"],data:[{value:310,name:"DRC"},{value:635,name:"NAS"}],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}},label:{normal:{show:!1,position:"inner",formatter:"{b}"}}}]},e=0;e<this.pieBox.length;e++){var a=document.getElementById("pieId"+e),n=d.init(a),i=[];this.pieBox[e].database_name2?i.push({value:this.pieBox[e].TOTAL_CAPACITY,name:this.pieBox[e].LOGIC_NAME},{value:this.pieBox[e].total_capacity2,name:this.pieBox[e].logic_name2}):i.push({value:void 0==this.pieBox[e].TOTAL_CAPACITY?0:this.pieBox[e].TOTAL_CAPACITY,name:this.pieBox[e].LOGIC_NAME}),t.series[0].data=i,n.setOption(t,!0)}},queryCheckList:function(){var t=this;Object(l["h"])().then((function(e){t.projectLibraryList=e.data}))},drawLineChart:function(){Object(l["c"])().then((function(t){var e=t.data.numData,a=t.data.monthData,n=d.init(document.getElementById("lineChart"));n.setOption({title:{text:"存储管理资料总数月统计",left:"center",textStyle:{fontSize:14,fontWeight:"normal"}},tooltip:{trigger:"axis"},xAxis:{type:"category",boundaryGap:!1,axisLabel:{color:"#50697a"},axisLine:{show:!1},splitLine:{show:!1},axisTick:{show:!1},data:a},yAxis:{name:"单位: 种",nameRotate:90,nameLocation:"middle",nameGap:50,axisLabel:{color:"#50697a"},axisLine:{show:!1},axisTick:{show:!1},type:"value"},series:[{name:"总计",type:"line",color:"#21cecf",data:e,label:{normal:{show:!1}},lineStyle:{color:"#21cecf"},smooth:!0,areaStyle:{normal:{color:new d.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#80e2e2"},{offset:1,color:"#ffe"}])}}}]})}))},getHelpDocument:function(){var t=this;Object(l["e"])().then((function(e){e.data.forEach((function(e,a){10!=a&&t.documentList.push(e)}))}))},downloadWord:function(t){var e=this;Object(c["c"])({filePath:t}).then((function(t){e.downloadfileCommon(t)}))},getInterfaceInfo:function(t){var e="";return this.interfaceData.find((function(a){a.interfaceid==t&&(e=a.interfacename)})),e},drawDataArrivedChart:function(){Object(l["a"])().then((function(t){var e=t.data,a=[],n=[];e.forEach((function(t){a.push(t.PRO),n.push(t.NAME_CN)}));var i=d.init(document.getElementById("dataArrivedChart"));i.setOption({grid:{left:"4%",right:"3%",bottom:"-90",top:"8%",containLabel:!0},tooltip:{trigger:"axis"},color:["#058ae5"],calculable:!0,dataZoom:[{show:!0,start:0,end:30}],yAxis:[{name:"单位:百分率",nameRotate:90,nameGap:50,nameLocation:"middle",type:"value",axisLabel:{formatter:"{value}"},boundaryGap:[0,.01]}],xAxis:[{type:"category",data:n,axisLabel:{interval:0,rotate:20},show:!1}],series:[{name:"总计",type:"bar",data:a,label:{normal:{show:!1}}}]})}))},countDatabaseTableInfo:function(){var t=this;this.tableData=[],Object(l["d"])().then((function(e){var a=e.data;for(var n in a){var i=a[n],r={serial:n,dataName:i["CLASS_NAME"],dateBegin:f(i["BEGIN_TIME"]),dateEnd:f(i["END_TIME"]),dataNum:i["RECORD_COUNT"],dataSpace:i["DAY_TOTAL"]};t.tableData.push(r)}}))}}};function m(t){return t<10?"0"+t:t}function f(t){var e=new Date(t),a=e.getFullYear(),n=e.getMonth()+1,i=e.getDate(),r=e.getHours(),o=e.getMinutes(),s=e.getSeconds();return a+"-"+m(n)+"-"+m(i)+" "+m(r)+":"+m(o)+":"+m(s)}var b=p,v=(a("ae4b"),a("5d22")),g=Object(v["a"])(b,n,i,!1,null,"7adecbd1",null);e["default"]=g.exports},8669:function(t,e,a){t.exports=a.p+"static/img/banner2.660401be.gif"},ae4b:function(t,e,a){"use strict";a("fba8")},d7a6:function(t,e,a){"use strict";a.d(e,"b",(function(){return r})),a.d(e,"a",(function(){return o})),a.d(e,"e",(function(){return s})),a.d(e,"d",(function(){return c})),a.d(e,"f",(function(){return l})),a.d(e,"c",(function(){return u}));var n=a("b775"),i="http://27.132.92.58:28028/nudt/sod";function r(t){return Object(n["a"])({url:i+"/dm/tableExport/databaseList",method:"get",params:t})}function o(t){return Object(n["a"])({url:i+"/dm/tableExport/dataTree",method:"get",params:t})}function s(t){return Object(n["a"])({url:i+"/dm/tableExport/exportTable",method:"post",data:t})}function c(t){return Object(n["a"])({url:i+"/dm/tableExport/exportSQL",method:"post",data:t})}function l(t){return Object(n["a"])({url:i+"/dm/tableExport/exportTableSimple",method:"post",data:t})}function u(t){return Object(n["a"])({url:i+"/api/com/downloadByPath",method:"get",params:t,responseType:"arraybuffer"})}},fba8:function(t,e,a){}}]);